(this["webpackJsonpexpense-tracker-react"]=this["webpackJsonpexpense-tracker-react"]||[]).push([[0],{105:function(e,t,a){e.exports=a(219)},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},140:function(e,t){},142:function(e,t){},173:function(e,t){},174:function(e,t){},180:function(e,t){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(104),o=a.n(l),r=a(19),i=a(2),s=a(36),u=a(4),m=a(17);a(110);var d=function(e){return c.a.createElement("div",{className:"loader-wrapper",style:e.loading?Object(m.a)({display:"flex",marginTop:"0"},e.style):Object(m.a)({display:"none"},e.style)},c.a.createElement("div",{className:"loader_container"},c.a.createElement("p",{className:"loader"},e.msg?e.msg:"Loading.....")))};a(111);var p=function(e){var t=e._id,a=e.name,n=e.income,l=e.expense,o=e.note,i=e.balance,s=e.onDelete,u=e.showEdit;return c.a.createElement("div",{className:"month_card"},c.a.createElement("h1",null,a),c.a.createElement("p",null,"Income:",n),c.a.createElement("p",null,"Expense:",void 0!==l?l:0),c.a.createElement("p",null,"Balance:",void 0!==i?i:n),c.a.createElement("p",null,n==l?"Oh you bad at saving":n>l?"Spend wisely":"You Fool"),c.a.createElement(r.b,{to:"/transaction/".concat(t)},c.a.createElement("button",null,"View")),c.a.createElement("div",{className:"footer"},c.a.createElement("i",{class:"fas fa-edit",onClick:function(){u(t,a,n,o)}}),c.a.createElement("i",{class:"fa-solid fa-trash-can",onClick:function(){s(t)}})))};a(112);var f=function(e){var t=e.children;return c.a.createElement("div",{className:"popupForm"},t)};a(113);var E=function(e){var t=e.onClose,a=e.month,n=e.income,l=e.note,o=e.setMonth,r=e.setIncome,i=e.setNote,s=e.onAdd,u=e.isEdit;return c.a.createElement(f,null,c.a.createElement("div",{className:"TransactionForm"},c.a.createElement("i",{className:"closeIcon fa-solid fa-xmark",onClick:t}),c.a.createElement("div",{className:"TransactionFormValue"},c.a.createElement("p",null,"Enter the data "),c.a.createElement("input",{type:"text",placeholder:"Month...",value:a,onChange:function(e){o(e.target.value)}}),c.a.createElement("input",{type:"number",placeholder:"Income...",value:n,onChange:function(e){r(e.target.value)}}),c.a.createElement("input",{type:"text",placeholder:"Note....",value:l,onChange:function(e){i(e.target.value)}}),c.a.createElement("input",{type:"button",value:u?"Update":"Add",onClick:s}))))},v=a(55),b=a.n(v);function h(e,t){return e?(t||(t="<p>Sorry something went wrong <br>Plse try again later.</p>"),b()({title:" ",content:{element:"p",attributes:{innerHTML:t,className:"swal_text"}}})):b()({title:"Success",text:t,icon:"success"})}var g=a(8),O=a.n(g),j=a(56),I=function(e){localStorage.setItem("token",e)},N=function(){return!!localStorage.getItem("token")},y=function(){var e=localStorage.getItem("token");e&&(O.a.defaults.headers.common.Authorization="Bearer "+e)},x=function(){var e=localStorage.getItem("token");if(!(e&&e.split(".").length>=2))return!0;var t=Object(j.a)(e),a=new Date;return 1e3*t.exp<a.getTime()&&(localStorage.removeItem("user"),localStorage.removeItem("token"),!0)},S=function(e){return O.a.post("/api/v1/signin/",e)},C=function(){return O.a.get("/api/v1/month/")},k=function(e,t){return O.a.post("/api/v1/month/".concat(e),t)},w=function(e){return O.a.post("/api/v1/month/",e)},_=function(e){return O.a.delete("/api/v1/month/".concat(e))},T=function(e){return O.a.get("/api/v1/transactions/".concat(e))},A=function(e){return O.a.post("/api/v1/transactions/",e)},F=function(e){return O.a.post("/api/v1/transactions/edit",e)},M=function(e){return O.a.post("/api/v1/transactions/delete",e)},P=function(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):e};!function(){var e=localStorage.getItem("token");e&&(O.a.defaults.headers.common.Authorization="Bearer "+e)}();a(135);var B=function(){var e=Object(n.useState)(!0),t=Object(u.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),r=Object(u.a)(o,2),i=(r[0],r[1],Object(n.useState)([])),m=Object(u.a)(i,2),f=m[0],v=m[1],b=Object(n.useState)(),h=Object(u.a)(b,2),g=h[0],O=h[1],j=Object(n.useState)(),I=Object(u.a)(j,2),N=I[0],y=I[1],x=Object(n.useState)(),S=Object(u.a)(x,2),T=S[0],A=S[1],F=Object(n.useState)(!1),M=Object(u.a)(F,2),P=M[0],B=M[1],D=Object(n.useState)(),X=Object(u.a)(D,2),L=X[0],V=X[1],q=Object(n.useState)(!1),z=Object(u.a)(q,2),G=z[0],J=z[1];function U(e){prompt("Did you really want to delete")&&_(e).then((function(t){var a=f.filter((function(t){if(t._id!==e)return t}));v(a)}))}function W(e,t,a,n){y(a),O(t),A(n),V(e),B(!0)}return Object(n.useEffect)((function(){C().then((function(e){console.log(e.data.data),v(e.data.data),l(!1)}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(d,{loading:a,msg:"Please wait we adding your data"}),c.a.createElement("div",{className:"dashboard"},c.a.createElement("i",{class:"fa-solid fa-circle-plus addIcon",onClick:function(){J(!0)}}),c.a.createElement("h1",{className:"dashboardTitle"},"Expense Tracker"),(G||P)&&c.a.createElement(E,{month:g,income:N,note:T,setMonth:O,setIncome:y,setNote:A,onAdd:function(){g&&N?(l(!0),(P?k(L,{name:g,income:N,note:T}):w({name:g,income:N,note:T})).then((function(e){P?(v([e.data.data]),B(!1)):v([].concat(Object(s.a)(f),[e.data.data])),l(!1),J(!1),O(""),y(""),A("")}))):alert("Give all")},onClose:function(){return J(!1)},isEdit:P}),c.a.createElement("div",{className:"header"},c.a.createElement("input",{type:"text",placeholder:"Search by month..",onChange:function(e){return function(e){var t=f.map((function(t){return t.name.toLowerCase().startsWith(e)?t.ishidden=!1:t.ishidden=!0,t}));v(t)}(e.target.value)}})),c.a.createElement("div",{className:"month_cards"},f.map((function(e){if(!e.ishidden)return c.a.createElement(p,Object.assign({},e,{onDelete:U,showEdit:W}))})))))};a(136);var D=function(e){var t=e.onClose,a=e.type,n=e.amount,l=(e.income,e.note),o=e.setAmount,r=e.setType,i=e.setNote,s=e.onAdd,u=e.isEdit;return c.a.createElement(f,null,c.a.createElement("div",{className:"TransactionForm"},c.a.createElement("i",{className:"closeIcon fa-solid fa-xmark",onClick:t}),c.a.createElement("div",{className:"TransactionFormType"},c.a.createElement("p",{className:"INCOME"===a?"selected":"",onClick:function(){r("INCOME")}},"Income"),c.a.createElement("p",{className:"EXPENSE"===a?"selected":"",onClick:function(){r("EXPENSE")}},"Expense")),c.a.createElement("div",{className:"TransactionFormValue"},c.a.createElement("input",{type:"number",placeholder:"Amount",value:n,onChange:function(e){o(e.target.value)}}),c.a.createElement("input",{type:"text",placeholder:"Note...",value:l,onChange:function(e){i(e.target.value)}}),c.a.createElement("input",{type:"button",value:u?"Update":"Add",onClick:s}))))};a(137),a(138);var X=function(){var e=Object(n.useState)(!0),t=Object(u.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)([]),r=Object(u.a)(o,2),p=r[0],f=r[1],E=Object(n.useState)(),v=Object(u.a)(E,2),b=v[0],h=v[1],g=Object(n.useState)({}),O=Object(u.a)(g,2),j=O[0],I=O[1],N=Object(n.useState)(!1),y=Object(u.a)(N,2),x=y[0],S=y[1],C=Object(n.useState)(!1),k=Object(u.a)(C,2),w=k[0],_=k[1],B=Object(n.useState)(),X=Object(u.a)(B,2),L=X[0],V=X[1],q=Object(n.useState)("INCOME"),z=Object(u.a)(q,2),G=z[0],J=z[1],U=Object(n.useState)(),W=Object(u.a)(U,2),Y=W[0],H=W[1],K=Object(i.i)().monthId;function Q(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=t.expense,l=t.balance,o=t.income;return"EXPENSE"===e?n?(c=void 0!==t.expense?parseInt(t.expense)+parseInt(a):a,l=parseInt(t.balance)-parseInt(a)):(c=void 0!==t.expense?parseInt(t.expense)-parseInt(a):a,l=parseInt(t.balance)+parseInt(a)):n?(o=void 0!==t.income?parseInt(t.income)+parseInt(a):a,l=parseInt(t.balance)+parseInt(a)):(o=void 0!==t.income?parseInt(t.income)-parseInt(a):a,l=parseInt(t.balance)-parseInt(a)),[o,l,c]}function R(e){var t=Q(e.type,j,e.amount),a=Object(u.a)(t,3),n=a[0],c=a[1],l=a[2];M({id:e._id,amount:L,type:G,monthId:K,income:n,expense:l,balance:c}).then((function(t){var a=p.filter((function(t){if(t._id!==e._id)return t}));f(a),I(Object(m.a)({},j,{expense:l,income:n,balance:c})),console.log(t)}))}function Z(e){V(e.amount),H(e.note),J(e.type),S(!0),h(e._id),_(!0)}return Object(n.useEffect)((function(){T(K).then((function(e){f(e.data.data.transactions),I(e.data.data.month),l(!1)}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(d,{loading:a,msg:"Please wait we getting data"}),x&&c.a.createElement(D,{amount:L,type:G,note:Y,setAmount:V,setType:J,setNote:H,onAdd:function(){if(L&&G&&Y){l(!0);var e,t=[];if(p.map((function(a){a._id===b?e=a:t.push(a)})),w){var a=Q(e.type,j,e.amount),n=Object(u.a)(a,3),c=n[0],o=n[1],r=n[2],i=Object(m.a)({},j,{income:c,balance:o,expense:r}),d=Q(G,i,L,!0),E=Object(u.a)(d,3);c=E[0],o=E[1],r=E[2],t.push({_id:e._id,note:Y,amount:L,monthId:e.monthId,type:G}),F({id:e._id,amount:L,type:G,note:Y,monthId:K,income:c,expense:r,balance:o}).then((function(e){f(t),I(Object(m.a)({},j,{expense:r,income:c,balance:o})),V(""),H(""),J("INCOME"),l(!1),_(!1),S(!1)}))}else{var v=Q(G,j,L,!0),h=Object(u.a)(v,3),g=h[0],O=h[1],N=h[2];A({amount:L,type:G,note:Y,monthId:K,income:g,expense:N,balance:O}).then((function(e){f([].concat(Object(s.a)(p),[e.data.data])),I(Object(m.a)({},j,{expense:N,income:g,balance:O})),V(""),H(""),J("INCOME"),l(!1),S(!1)}))}}else alert("Give all")},onClose:function(){return S(!1)},isEdit:w}),c.a.createElement("div",{className:"expenseDetail"},c.a.createElement("i",{class:"fa-solid fa-circle-plus addIcon",onClick:function(){S(!0)}}),c.a.createElement("div",{className:"expenseBalance"},c.a.createElement("h4",null,"Your Balance"),c.a.createElement("h1",null,P(void 0!==j.balance?j.balance:j.income))),c.a.createElement("div",{className:"expenseIncome"},c.a.createElement("div",null,c.a.createElement("h4",null,"Income"),c.a.createElement("p",{className:"money plus"},P(j.income))),c.a.createElement("div",null,c.a.createElement("h4",null,"Expense"),c.a.createElement("p",{className:"money minus"},P(j.expense?j.expense:0)))),!a&&c.a.createElement("div",{className:"transaction"},c.a.createElement("h2",null,"Incomes:"),c.a.createElement("ul",null,p.map((function(e){if("INCOME"===e.type)return c.a.createElement("li",null,P(e.amount)," ","->"," ",e.note,c.a.createElement("div",{className:"transactionIcons"},c.a.createElement("i",{class:"fas fa-edit",onClick:function(){Z(e)}}),c.a.createElement("i",{class:"fa-solid fa-trash-can",onClick:function(){return R(e)}})))}))),c.a.createElement("h2",null,"Expense:"),c.a.createElement("ul",null,p.map((function(e){if("EXPENSE"===e.type)return c.a.createElement("li",null,P(e.amount)," ","->"," ",e.note,c.a.createElement("div",{className:"transactionIcons"},c.a.createElement("i",{class:"fas fa-edit",onClick:function(){Z(e)}}),c.a.createElement("i",{class:"fa-solid fa-trash-can",onClick:function(t){return R(e)}})))}))))))};a(217);var L=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),r=Object(u.a)(o,2),s=r[0],m=r[1],p=Object(n.useState)(""),f=Object(u.a)(p,2),E=f[0],v=f[1],b=Object(i.h)();return c.a.createElement(c.a.Fragment,null,c.a.createElement(d,{loading:E,msg:"Please wait we will let you in"}),c.a.createElement("div",{className:"user"},c.a.createElement("p",null,"Welcome Back")),c.a.createElement("div",{className:"signin_container"},c.a.createElement("div",{className:"form_container"},c.a.createElement("div",{className:"form_input"},c.a.createElement("label",{for:"name"}," Email "),c.a.createElement("input",{type:"email",placeholder:"Email...",name:"email",required:!0,onChange:function(e){l(e.target.value)},value:a})),c.a.createElement("div",{className:"form_input"},c.a.createElement("label",{for:"password"}," Password "),c.a.createElement("input",{type:"password",placeholder:"Password...",name:"password",required:!0,onChange:function(e){m(e.target.value)},value:s})),c.a.createElement("div",{className:"form_button"},c.a.createElement("input",{type:"submit",name:"signin",value:"SIgn In",className:"signin_button",onClick:function(){if(a&&s){v(!0);S({email:a,password:s}).then((function(e){console.log(e),v(!1),"success"===e.data.status&&(I(e.data.token),y(),b("/"))})).catch((function(e){e=e.response,v(!1),h(!0,e.data.msg)}))}else h(!0,"Fill all detail")}})))))};var V=function(){return N()&&!x()?c.a.createElement(i.b,null):c.a.createElement(i.a,{to:"/signin"})};a(218);var q=function(){return c.a.createElement(r.a,null,c.a.createElement(i.e,null,c.a.createElement(i.c,{exact:!0,path:"/signin",element:c.a.createElement(L,null)}),c.a.createElement(i.c,{exact:!0,path:"/",element:c.a.createElement(V,null)},c.a.createElement(i.c,{exact:!0,path:"/transaction/:monthId",element:c.a.createElement(X,null)}),c.a.createElement(i.c,{exact:!0,path:"/",element:c.a.createElement(B,null)}))))};o.a.render(c.a.createElement(q,null),document.getElementById("root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.8c3e7fca.chunk.js.map